'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}{var objectTypes=['Boolean','Number','String','Function','Array','Date','RegExp','Object','Error','Symbol'],typesReference={},error=function error(value){return new Error(value);};for(var index=0,size=objectTypes.length;index<size;index++){typesReference['[object '+objectTypes[index]+']']=objectTypes[index].toLowerCase();}var ErrorList=function(){function ErrorList(){_classCallCheck(this,ErrorList);this.errors=[];}_createClass(ErrorList,[{key:'addError',value:function addError(error){if(typeof error==='string')this.errors.push(error);else if(typeof error==='function'&&error.name)this.errors.push(error.name);}},{key:'hasErrors',value:function hasErrors(){return this.errors.length>0;}}]);return ErrorList;}();var Core=function(){function Core(){_classCallCheck(this,Core);this.fn={is:{email:function email(value){return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value);},numeric:function numeric(value){return /^\-?\d+(?:\.\d+)?$/.test(value);},integer:function integer(value){return /^\-?\d+$/.test(value);},positive:function positive(value){return /^\d+(?:\.\d+)?$/.test(value);},negative:function negative(value){return /^\-\d+(?:\.\d+)?$/.test(value);},even:function even(value){return Number(value)%2===0;},odd:function odd(value){return Number(value)%2>0;}},validate:{required:function required(value,isRequired){return isRequired?value!==undefined:true;},pattern:function pattern(value,_pattern){return(core.is(_pattern,'regexp')?_pattern:new RegExp(_pattern)).test(value);},min:function min(value){var _min=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-Infinity;return(Number(value)||0)>=(Number(_min)||0);},max:function max(value){var _max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Infinity;return(Number(value)||0)<=(Number(_max)||0);},minlength:function minlength(value){var min=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return typeof value==='string'?value.length>=(Number(min)||0):false;},maxlength:function maxlength(value){var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Infinity;return typeof value==='string'?value.length<=(Number(max)||0):false;},type:function type(value,_type){return core.type(value)===_type;},is:function is(value,types){var errorList=core.is(value,types,true);return errorList.hasErrors()?errorList:true;},range:function range(value){var _range=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[-Infinity,Infinity];return core.is(_range,'array')&&_range.length>1?Number(value)>=Number(_range[0])&&Number(value)<=Number(_range[1]):false;},equal:function equal(value,to){return _typeof(this)==='object'&&this.hasOwnProperty(to)?value===this[to]:false;},conditional:function conditional(value,_conditional){return _conditional(value);},options:function options(value,_options){if(core.is(_options,'array'))for(var _index=0,_size=_options.length;_index<_size;_index++){if(value===_options[_index])return true;}return false;},instance:function instance(value,object){return value instanceof object;}}};}_createClass(Core,[{key:'type',value:function type(value){return value===null?'null':(typeof value==='undefined'?'undefined':_typeof(value))==='object'||typeof value==='function'?typesReference[typesReference.toString.call(value)]||'object':typeof value==='undefined'?'undefined':_typeof(value);}},{key:'is',value:function is(value,types,getErrorList){var errorList=this.createErrorList(),fn=this.fn,type=this.type;if(type(types)==='array'){for(var _index2=0,_size2=types.length;_index2<_size2;_index2++){var test=fn.is[types[_index2]];if(typeof test==='function'){if(!test.call(this,value))errorList.addError(types[_index2]);}else if(!(type(value)===types[_index2]))errorList.addError(types[_index2]);}}else if(typeof fn.is[types]==='function'){if(!fn.is[types].call(this,value))errorList.addError(types);}else if(!(type(value)===types))errorList.addError(types);return getErrorList?errorList:!errorList.hasErrors();}},{key:'createErrorList',value:function createErrorList(){return new ErrorList();}}]);return Core;}();var core=new Core();var ResponseFragment=function(){function ResponseFragment(value){_classCallCheck(this,ResponseFragment);this.value=value;this.valid=true;this.error={};}_createClass(ResponseFragment,[{key:'validate',value:function validate(name,param,parent){var response=typeof core.fn.validate[name]==='function'?core.fn.validate[name].call(parent,this.value,param):true;if(!response||response instanceof ErrorList){this.valid=false;this.error[name]=true;if(response instanceof ErrorList)for(var _index3=0,_size3=response.errors.length;_index3<_size3;_index3++){if(response.errors[_index3]!==name)this.error[name+':'+response.errors[_index3]]=true;}}else delete this.error[name];return this;}}]);return ResponseFragment;}();var Response=function(){function Response(){_classCallCheck(this,Response);this.data={};this.valid=true;}_createClass(Response,[{key:'setResponse',value:function setResponse(index,value){this.data[index]=value;}},{key:'setValid',value:function setValid(status){this.valid=status;}}]);return Response;}();var Model=function(){function Model(model){_classCallCheck(this,Model);if((typeof model==='undefined'?'undefined':_typeof(model))==='object')this.model=model;else throw error('Model expects an object.');}_createClass(Model,[{key:'validate',value:function validate(data){if((typeof data==='undefined'?'undefined':_typeof(data))==='object'){var response=new Response();for(var _index4 in this.model){var value=new ResponseFragment(data[_index4]);if(this.model[_index4]instanceof Model){response.setResponse(_index4,this.model[_index4].validate(data[_index4]));}else if(_typeof(this.model[_index4])==='object'){for(var validation in this.model[_index4]){if(!value.validate(validation,this.model[_index4][validation],data).valid)response.setValid(false);}response.setResponse(_index4,value);}}return response;}else throw error('Model.validate expects an object.');}}]);return Model;}();var Warble=function(_Core){_inherits(Warble,_Core);function Warble(){_classCallCheck(this,Warble);return _possibleConstructorReturn(this,(Warble.__proto__||Object.getPrototypeOf(Warble)).apply(this,arguments));}_createClass(Warble,[{key:'model',value:function model(_model){return new Model(_model);}},{key:'validate',value:function validate(value,options){if((typeof options==='undefined'?'undefined':_typeof(options))==='object'){var value=new ResponseFragment(value);for(var _index5 in options){value.validate(_index5,options[_index5]);}return value;}else throw error('Warble.validate expects an object.');}}]);return Warble;}(Core);var warble=new Warble();if((typeof module==='undefined'?'undefined':_typeof(module))==='object'&&_typeof(module.exports)==='object')module.exports=warble;};
//# sourceMappingURL=warble.min.js.map

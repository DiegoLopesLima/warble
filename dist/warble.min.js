'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}{var specificTypes={'[object Array]':'array','[object Boolean]':'boolean','[object Date]':'date','[object Error]':'error','[object Function]':'function','[object Null]':'null','[object Number]':'number','[object Object]':'object','[object RegExp]':'regexp','[object String]':'string','[object Symbol]':'symbol'};var testRegExp=function testRegExp(regexp){return function(value){return regexp.test(value);};};var Core=function(){function Core(){_classCallCheck(this,Core);var re=this.re={email:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,// https://www.w3.org/TR/html5/forms.html#e-mail-state-(type=email)
numeric:/^\-?\d+(?:\.\d+)?$/,positive:/^\d+(?:\.\d+)?$/,negative:/^\-\d+(?:\.\d+)?$/},isNumeric=testRegExp(re.numeric);this.subtypes={email:testRegExp(re.email),positive:testRegExp(re.positive),negative:testRegExp(re.negative),numeric:isNumeric,integer:function integer(value){return isNumeric(value)?Number.isInteger(Number(value)):false;},even:function even(value){return isNumeric(value)?value%2===0:false;},odd:function odd(value){return isNumeric(value)?(value<0?value*-1:value)%2>0:false;}};this.validations={required:function required(value,isRequired){return isRequired?value!==undefined:true;},pattern:function pattern(value,_pattern){return(core.is(_pattern,'regexp')?_pattern:new RegExp(_pattern)).test(value);},min:function min(value){var _min=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-Infinity;return value>=_min;},max:function max(value){var _max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Infinity;return value<=_max;},minlength:function minlength(value){var min=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return typeof value==='string'?value.length>=min:false;},maxlength:function maxlength(value){var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Infinity;return typeof value==='string'?value.length<=max:false;},type:function type(value,_type){return core.type(value)===_type;},is:function is(value,types){return core.is(value,types,true);},range:function range(value,_range){if(core.is(_range,'array')&&_range.length>1)return value>=_range[0]&&value<=_range[1];throw new Error('The range is invalid.');},equal:function equal(value,to){return value===this[to];},conditional:function conditional(value,_conditional){return _conditional(value);},options:function options(value,_options){return!!_options.find(function(current){return current===value;});},instance:function instance(value,object){return value instanceof object;}};}_createClass(Core,[{key:'type',value:function type(value){return value===null?'null':/object|function/.test(typeof value==='undefined'?'undefined':_typeof(value))?specificTypes[specificTypes.toString.call(value)]||'object':typeof value==='undefined'?'undefined':_typeof(value);}},{key:'is',value:function is(value,types,getDetails){var response={},subtypes=this.subtypes,type=this.type;if(type(types)==='array'){for(var index=0,size=types.length;index<size;index++){var test=subtypes[types[index]];response[types[index]]=typeof test==='function'?test.call(this,value):type(value)===types[index];}}else if(typeof subtypes[types]==='function')response[types]=subtypes[types].call(this,value);else response[types]=type(value)===types;if(getDetails)return response;for(var _index in response){if(!response[_index])return false;}return true;}}]);return Core;}();var core=new Core();var Response=function(){function Response(){_classCallCheck(this,Response);this.data={};this.valid=true;}_createClass(Response,[{key:'setData',value:function setData(index,value){this.data[index]=value;if(!value.valid)this.valid=false;}}]);return Response;}();var ResponseFragment=function(){function ResponseFragment(value){_classCallCheck(this,ResponseFragment);this.value=value;this.valid=true;this.status={};}_createClass(ResponseFragment,[{key:'validate',value:function validate(name,param,parent){if(typeof core.validations[name]==='function')var response=core.validations[name].call(parent,this.value,param);else throw new Error('"'+name+'" is not a recognized validation function.');if((typeof response==='undefined'?'undefined':_typeof(response))==='object'){var status=true;for(var index in response){this.status[name+index[0].toUpperCase()+index.substr(1)]=response[index];if(!response[index]){this.valid=false;status=false;}}this.status[name]=status;}else{if(!response)this.valid=false;this.status[name]=response;}return this;}}]);return ResponseFragment;}();var Model=function(){function Model(model){_classCallCheck(this,Model);if((typeof model==='undefined'?'undefined':_typeof(model))==='object')this.model=model;else throw new Error('The expected param must be an object.');}_createClass(Model,[{key:'validate',value:function validate(data){if((typeof data==='undefined'?'undefined':_typeof(data))==='object'){var response=new Response();for(var index in this.model){var responseFragment=new ResponseFragment(data[index]),modelFragment=this.model[index];if(modelFragment instanceof Model)response.setData(index,modelFragment.validate(data[index]));else{for(var validation in modelFragment){responseFragment.validate(validation,modelFragment[validation],data);}response.setData(index,responseFragment);}}return response;}else throw new Error('The expected param must be an object.');}}]);return Model;}();var Warble=function(_Core){_inherits(Warble,_Core);function Warble(){_classCallCheck(this,Warble);return _possibleConstructorReturn(this,(Warble.__proto__||Object.getPrototypeOf(Warble)).apply(this,arguments));}_createClass(Warble,[{key:'model',value:function model(_model){return new Model(_model);}},{key:'validate',value:function validate(value,options){if((typeof options==='undefined'?'undefined':_typeof(options))==='object'){var value=new ResponseFragment(value);for(var index in options){value.validate(index,options[index]);}return value;}else throw new Error('The expected param must be an object.');}}]);return Warble;}(Core);(function(root,factory){if(typeof define==='function'&&define.amd)define([],factory);else if((typeof exports==='undefined'?'undefined':_typeof(exports))==='object')module.exports=factory();else root.warble=factory();})(undefined,function(){return new Warble();});}
//# sourceMappingURL=warble.min.js.map

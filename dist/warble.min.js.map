{"version":3,"sources":["warble.js"],"names":["objectTypes","typesReference","error","value","Error","index","size","length","toLowerCase","WarbleErrorList","errors","push","name","WarbleCore","fn","is","email","test","numeric","integer","positive","negative","even","Number","odd","validate","required","isRequired","undefined","pattern","core","RegExp","min","Infinity","max","minlength","maxlength","type","types","errorList","hasErrors","range","equal","to","hasOwnProperty","conditional","options","instance","object","toString","call","getErrorList","createErrorList","addError","WarbleFragment","valid","invalid","param","parent","response","WarbleResponse","data","status","WarbleModel","model","setResponse","validation","setValid","setData","Warble","warble","module","exports"],"mappings":"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","file":"warble.min.js","sourcesContent":["{\n\n\tlet\n\n\t\tobjectTypes = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Object', 'Error', 'Symbol'],\n\n\t\ttypesReference = {},\n\n\t\terror = (value) => new Error(value);\n\n\tfor (let index = 0, size = objectTypes.length; index < size; index++)\n\n\t\ttypesReference[`[object ${objectTypes[index]}]`] = objectTypes[index].toLowerCase();\n\n\tclass WarbleErrorList {\n\n\t\tconstructor() {\n\n\t\t\tthis.errors = [];\n\n\t\t}\n\n\t\taddError(error) {\n\n\t\t\tif (typeof error === 'string')\n\n\t\t\t\tthis.errors.push(error);\n\n\t\t\telse if (typeof error === 'function' && error.name)\n\n\t\t\t\tthis.errors.push(error.name);\n\n\t\t}\n\n\t\thasErrors() {\n\n\t\t\treturn this.errors.length > 0;\n\n\t\t}\n\n\t}\n\n\tclass WarbleCore {\n\n\t\tconstructor() {\n\n\t\t\tthis.fn = {\n\t\t\t\tis: {\n\t\t\t\t\t// https://www.w3.org/TR/html5/forms.html#e-mail-state-(type=email)\n\t\t\t\t\temail: (value) => /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value),\n\t\t\t\t\tnumeric: (value) => /^\\-?\\d+(?:\\.\\d+)?$/.test(value),\n\t\t\t\t\tinteger: (value) => /^\\-?\\d+$/.test(value),\n\t\t\t\t\tpositive: (value) => /^\\d+(?:\\.\\d+)?$/.test(value),\n\t\t\t\t\tnegative: (value) => /^\\-\\d+(?:\\.\\d+)?$/.test(value),\n\t\t\t\t\teven: (value) => (Number(value) % 2) === 0,\n\t\t\t\t\todd: (value) => (Number(value) % 2) > 0\n\t\t\t\t},\n\t\t\t\tvalidate: {\n\t\t\t\t\trequired: (value, isRequired) => isRequired ? value !== undefined : true,\n\t\t\t\t\tpattern: (value, pattern) => (core.is(pattern, 'regexp') ? pattern : new RegExp(pattern)).test(value),\n\t\t\t\t\tmin: (value, min = -Infinity) => (Number(value) || 0) >= (Number(min) || 0),\n\t\t\t\t\tmax: (value, max = Infinity) => (Number(value) || 0) <= (Number(max) || 0),\n\t\t\t\t\tminlength: (value, min = 0) => typeof value === 'string' ? value.length >= (Number(min) || 0) : false,\n\t\t\t\t\tmaxlength: (value, max = Infinity) => typeof value === 'string' ? value.length <= (Number(max) || 0) : false,\n\t\t\t\t\ttype: (value, type) => core.type(value) === type,\n\t\t\t\t\tis(value, types) {\n\n\t\t\t\t\t\tvar errorList = core.is(value, types, true);\n\n\t\t\t\t\t\treturn errorList.hasErrors() ? errorList : true\n\n\t\t\t\t\t},\n\t\t\t\t\trange: (value, range = [-Infinity, Infinity]) => (core.is(range, 'array') && range.length > 1) ? Number(value) >= Number(range[0]) && Number(value) <= Number(range[1]) : false,\n\t\t\t\t\tequal(value, to)  {\n\n\t\t\t\t\t\treturn typeof this === 'object' && this.hasOwnProperty(to) ? value === this[to] : false;\n\n\t\t\t\t\t},\n\t\t\t\t\tconditional: (value, conditional) => conditional(value),\n\t\t\t\t\toptions(value, options) {\n\n\t\t\t\t\t\tif (core.is(options, 'array'))\n\n\t\t\t\t\t\t\tfor (let index = 0, size = options.length; index < size; index++)\n\n\t\t\t\t\t\t\t\tif (value === options[index])\n\n\t\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t},\n\t\t\t\t\tinstance: (value, object) => value instanceof object\n\t\t\t\t}\n\t\t\t};\n\n\t\t}\n\n\t\ttype(value) {\n\n\t\t\treturn value === null ? 'null' : (typeof value === 'object' || typeof value === 'function' ? typesReference[typesReference.toString.call(value)] || 'object' : typeof value);\n\n\t\t}\n\n\t\tis(value, types, getErrorList) {\n\n\t\t\tvar\n\n\t\t\t\terrorList = this.createErrorList(),\n\n\t\t\t\t{ fn, type } = this;\n\n\t\t\tif (type(types) === 'array') {\n\n\t\t\t\tfor (let index = 0, size = types.length; index < size; index++) {\n\n\t\t\t\t\tlet test = fn.is[types[index]];\n\n\t\t\t\t\tif (typeof test === 'function') {\n\n\t\t\t\t\t\tif (!test.call(this, value))\n\n\t\t\t\t\t\t\terrorList.addError(types[index]);\n\n\t\t\t\t\t} else if (!(type(value) === types[index]))\n\n\t\t\t\t\t\terrorList.addError(types[index]);\n\n\t\t\t\t}\n\n\t\t\t} else if (typeof fn.is[types] === 'function') {\n\n\t\t\t\tif (!fn.is[types].call(this, value))\n\n\t\t\t\t\terrorList.addError(types);\n\n\t\t\t} else if (!(type(value) === types))\n\n\t\t\t\terrorList.addError(types);\n\n\t\t\treturn getErrorList ? errorList : !errorList.hasErrors();\n\n\t\t}\n\n\t\tcreateErrorList() {\n\n\t\t\treturn new WarbleErrorList;\n\n\t\t}\n\n\t}\n\n\tlet core = new WarbleCore;\n\n\tclass WarbleFragment {\n\n\t\tconstructor(value) {\n\n\t\t\tthis.value = value;\n\n\t\t\tthis.valid = true;\n\n\t\t\tthis.invalid = false;\n\n\t\t\tthis.error = {};\n\n\t\t}\n\n\t\tvalidate(name, param, parent) {\n\n\t\t\tvar response = typeof core.fn.validate[name] === 'function' ? core.fn.validate[name].call(parent, this.value, param) : true;\n\n\t\t\tif (!response || response instanceof WarbleErrorList) {\n\n\t\t\t\tthis.valid = false;\n\n\t\t\t\tthis.invalid = true;\n\n\t\t\t\tthis.error[name] = true;\n\n\t\t\t\tif (response instanceof WarbleErrorList)\n\n\t\t\t\t\tfor (let index = 0, size = response.errors.length; index < size; index++)\n\n\t\t\t\t\t\tif (response.errors[index] !== name)\n\n\t\t\t\t\t\t\tthis.error[`${name}:${response.errors[index]}`] = true;\n\n\t\t\t} else\n\n\t\t\t\tdelete this.error[name];\n\n\t\t\treturn this;\n\n\t\t}\n\n\t}\n\n\tclass WarbleResponse {\n\n\t\tconstructor() {\n\n\t\t\tthis.response = {};\n\n\t\t\tthis.valid = true;\n\n\t\t\tthis.invalid = false;\n\n\t\t\tthis.data = {};\n\n\t\t}\n\n\t\tsetResponse(index, value) {\n\n\t\t\tthis.response[index] = value;\n\n\t\t}\n\n\t\tsetData(index, value) {\n\n\t\t\tthis.data[index] = value;\n\n\t\t}\n\n\t\tsetValid(status) {\n\n\t\t\t[this.valid, this.invalid] = [status, !status];\n\n\t\t}\n\n\t}\n\n\tclass WarbleModel {\n\n\t\tconstructor(model) {\n\n\t\t\tif (typeof model === 'object')\n\n\t\t\t\tthis.model = model;\n\n\t\t\telse\n\n\t\t\t\tthrow error('WarbleModel expects an object.');\n\n\t\t}\n\n\t\tvalidate(data) {\n\n\t\t\tif (typeof data === 'object') {\n\n\t\t\t\tlet response = new WarbleResponse;\n\n\t\t\t\tfor (let index in this.model) {\n\n\t\t\t\t\tlet value = new WarbleFragment(data[index]);\n\n\t\t\t\t\tif (this.model[index] instanceof WarbleModel) {\n\n\t\t\t\t\t\tresponse.setResponse(index, this.model[index].validate(data[index]));\n\n\t\t\t\t\t} else if (typeof this.model[index] === 'object') {\n\n\t\t\t\t\t\tfor (let validation in this.model[index])\n\n\t\t\t\t\t\t\tif (value.validate(validation, this.model[index][validation], data).invalid)\n\n\t\t\t\t\t\t\t\tresponse.setValid(false);\n\n\t\t\t\t\t\tresponse.setResponse(index, value);\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresponse.setData(index, value.value);\n\n\t\t\t\t}\n\n\t\t\t\treturn response;\n\n\t\t\t} else\n\n\t\t\t\tthrow error('WarbleModel.validate expects an object.');\n\n\t\t}\n\n\t}\n\n\tclass Warble extends WarbleCore {\n\n\t\tmodel(model) {\n\n\t\t\treturn new WarbleModel(model);\n\n\t\t}\n\n\t\tvalidate(value, options) {\n\n\t\t\tif (typeof options === 'object') {\n\n\t\t\t\tvar value = new WarbleFragment(value);\n\n\t\t\t\tfor (let index in options)\n\n\t\t\t\t\tvalue.validate(index, options[index]);\n\n\t\t\t\treturn value;\n\n\t\t\t} else\n\n\t\t\t\tthrow error('Warble.validate expects an object.');\n\n\t\t}\n\n\t}\n\n\tvar warble = new Warble;\n\n\tif (typeof module === 'object' && typeof module.exports === 'object')\n\n\t\tmodule.exports = warble;\n\n};\n"]}